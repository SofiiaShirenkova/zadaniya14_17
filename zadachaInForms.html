<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Задача 1015</title>
</head>
<body>
    <h1>Навигация</h1>
    <p><a href="./index.html" target="_self">На главную</a></p>        
    <p><a href="./pasport.html" target="_self">Паспорт 1</a></p>        
    <p><a href="./pasportV2.html" target="_self">Паспорт 2</a></p>
    <p><a href="./zadacha.html" target="_self">Задача 1</a></p>        
    <p><a href="./zadachaInForms.html" target="_self">Задача 2</a></p> <br>    

    <p>Дано вещественное число A. 
        Вычислить х = a**2+4+5  при а < 62; 
        в противном случае x = 1/(a**2) + 4a + 5. Решение отправить все на сервер.</p>
    <form action="https://www.bing.com/search?" id="UserEnter" name="UserEnter" target="_blank">
    <ul>
        <li>для поисковика:<input name="q" value="search"></li>
        <li>формулировка задачи <input name="formulation"  
            value="Дано вещественное число A. 
            Вычислить х = a**2+4+5  при а < 62; 
            в противном случае x = 1/(a**2) + 4a + 5. Решение отправить все на сервер."></li>
        <li>a: <input id="a" name="a"  type="number" value=10></li>
        <li>результат решения: <input name="result" value="не определен"></li>
        <li>действие 1: <input id="verify" type="button" value="Проверить"></li>
        <li>действие 2: <input id="send" type="button" value="Отправить"></li>
    </ul>
    </form>
    <p id="result">Результаты вычислений:  </p>

<script>
    // РЕШЕНИЕ ЗАДАЧИ
    function verify() {
        console.log("a")
        let a = parseInt(elementA.value)
        console.log(a)
    

        let x 
        if (a < 62) {
            x = a**2+4+5
            result = x
            document.getElementById("result").innerText = messageText + result;
            document.getElementsByName('result')[0].value = result;
        } else {
            x = 1/(a**2) + 4*a + 5
            result = x
            document.getElementById("result").innerText = messageText + result;
            document.getElementsByName('result')[0].value = result;
        }
    }
    
    // const elementA = document.getElementById("a");
    
    // const elementVerify = document.getElementById("verify");
    // elementVerify.addEventListener('click', verify);



    // ОТПРАВКА ЗАДАЧИ НА УДАЛЁННЫЙ СЕРВЕЕР
    function send() {
        let textCondition = document.getElementsByTagName('p')[0].innerText
        document.getElementsByName('formulation')[0].value = textCondition;
        document.getElementsByName('result')[0].value = result;
        document.getElementById("UserEnter").submit();
    }

    function verify_send() {
        verify();
        send();
    }

    let messageText = document.getElementById("result").innerText
    console.log(messageText)
    let result;

    const elementA = document.getElementById("a");
    elementA.addEventListener('input', verify);

    const elementVerify = document.getElementById("verify");
    elementVerify.addEventListener('click', verify);

    const elementSend = document.getElementById("send");
    elementSend.addEventListener('click', send)
</script>


</body>
</html>